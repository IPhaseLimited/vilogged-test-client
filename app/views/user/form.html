<div>
  <form class="form-horizontal" ng-submit="createUserAccount()" name="userAccount" enctype="multipart/form-data">
    <legend>User Account Detail</legend>
    <div class="form-group">
      <label for="username" class="control-label col-sm-2">Username <span class="text-danger">*</span></label>

      <div class="col-sm-6">
        <input class="form-control" type="text" name="username" id="username"
               ng-model="userProfile.username" required/>
      </div>
    </div>

    <div class="form-group" ng-if="!userProfile.id">
      <label for="password" class="control-label col-sm-2">Password <span class="text-danger">*</span></label>

      <div class="col-sm-6">
        <input class="form-control" type="password" name="password" id="password"
               ng-model="userProfile.password" required/>
      </div>
    </div>

    <div class="form-group" ng-if="!userProfile.id">
      <label for="confirm_password" class="control-label col-sm-2">Confirm Password <span
        class="text-danger">*</span></label>

      <div class="col-sm-6">
        <input class="form-control" type="password" name="confirm_password" id="confirm_password"
               ng-model="userProfile.confirm_password" required/>
      </div>
    </div>

    <div class="form-group">
      <label for="email" class="control-label col-sm-2">Email <span class="text-danger">*</span></label>

      <div class="col-sm-6">
        <input class="form-control" type="text" name="email" id="email" ng-model="userProfile.email" required/>
      </div>
    </div>

    <legend>User Profile</legend>

    <div class="form-group">
      <label for="first_name" class="control-label col-sm-2">First Name <span class="text-danger">*</span></label>

      <div class="col-sm-6">
        <input class="form-control" type="text" name="first_name" id="first_name"
               ng-model="userProfile.first_name" required/>
      </div>
    </div>

    <div class="form-group">
      <label for="last_name" class="control-label col-sm-2">Last Name <span class="text-danger">*</span></label>

      <div class="col-sm-6">
        <input class="form-control" type="text" name="last_name" id="last_name"
               ng-model="userProfile.last_name" required/>
      </div>
    </div>

    <div class="form-group">
      <label for="image" class="col-sm-2 control-label">Image</label>

      <div class="col-sm-6">
        <input id="image" type="file" ng-model-instant ng-if="!activateCamera"
               onchange="angular.element(this).scope().setFiles(this, 'image')">

        <div class="row">
          <div ng-if="activateCamera" class="col-sm-4" vi-camera>
            <div camera-control-snapshot></div>
          </div>
          <div class="col-sm-6 col-sm-offset-2" ng-if="activateCamera">
            <canvas></canvas>
          </div>
        </div>

        <a ng-click="activateCamera = !activateCamera" class="btn btn-success" ng-show="!activateCamera">
          <i class="fa fa-camera"></i> Activate Camera
        </a>
        <a ng-click="activateCamera = !activateCamera" class="btn btn-success" ng-show="activateCamera">
          <i class="fa fa-camera"></i> Deactivate Camera
        </a>
      </div>
    </div>

    <div class="form-group">
      <label for="gender" class="control-label col-sm-2">Gender <span class="text-danger">*</span></label>

      <div class="col-sm-6">
        <select class="form-control" name="gender" id="gender" ng-model="userProfile.user_profile.gender" required>
          <option value="male">Male</option>
          <option value="female">Female</option>
        </select>
      </div>
    </div>

    <div class="form-group">
      <label for="phone" class="control-label col-sm-2">Phone <span class="text-danger">*</span></label>

      <div class="col-sm-6">
        <input class="form-control" type="text" name="phone" id="phone" ng-model="userProfile.user_profile.phone"
               required/>
      </div>
    </div>

    <div class="form-group">
      <label for="home_phone" class="control-label col-sm-2">Home Phone</label>

      <div class="col-sm-6">
        <input class="form-control" type="text" name="last_name" id="home_phone"
               ng-model="userProfile.user_profile.home_phone"/>
      </div>
    </div>

    <div class="form-group">
      <label for="work_phone" class="control-label col-sm-2">Work Phone</label>

      <div class="col-sm-6">
        <input class="form-control" type="text" name="work_phone" id="work_phone"
               ng-model="userProfile.user_profile.work_phone"/>
      </div>
    </div>

    <div class="form-group">
      <label for="department" class="control-label col-sm-2">Department <span class="text-danger">*</span></label>

      <div class="col-sm-6">
        <select class="form-control" name="department" id="department" ng-model="userProfile.user_profile.department">
          <option value=""></option>
          <option ng-selected="userProfile.user_profile.department === department.uuid" value="{{ department.uuid }}"
                  ng-repeat="department in departments">{{ department.department_name }}
          </option>
        </select>
      </div>
    </div>

    <div class="form-group" ng-show="user.is_superuser">
      <div class="col-sm-offset-2 col-sm-10">
        <div class="checkbox">
          <label>
            <input type="checkbox" ng_model="userProfile.is_staff"> Grant staff privileges?
          </label>
        </div>
      </div>
    </div>

    <div class="form-group" ng-show="user.is_superuser">
      <div class="col-sm-offset-2 col-sm-10">
        <div class="checkbox">
          <label>
            <input type="checkbox" ng-model="userProfile.is_active"> Make account active?
          </label>
        </div>
      </div>
    </div>

    <hr/>
    <div class="form-group">
      <div class="col-sm-offset-2 col-sm-6">
        <button class="btn btn-primary" ng-if="!user.id">
          Create User Account
        </button>
        <button class="btn btn-primary" ng-if="user.id">
          Edit User Account
        </button>
      </div>
    </div>
  </form>
</div>

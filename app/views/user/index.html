<div class="loading-status" ng-if="busy">
  Loading...
</div>
<div class="widget">
  <div class="widget-head">
    <div class="pull-left">
    </div>
    <div class="widget-icons pull-right">
      <a class="btn btn-primary" ui-sref="createUser"><i class="fa fa-plus-circle"></i> Create User Account</a>
    </div>
    <div class="clearfix"></div>
  </div>
  <div class="widget-content">
    <div class="padd">
      <growl-notifications></growl-notifications>

      <div class="row">
        <table class="table table-condensed table-bordered">
          <thead>
            <tr>
              <th>S/N</th>
              <th>Name</th>
              <th>Username</th>
              <th>Role</th>
              <th>Department</th>
              <th>Office Phone</th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat="user in users | limitTo:10">
              <td>{{ $index + 1 }}</td>
              <td>{{ user.first_name + ' ' + user.last_name }}</td>
              <td>{{ user.username }}</td>
              <td>
                <span ng-show="user.is_superuser">Superuser</span>
                <span ng-show="!user.is_superuser && user.is_staff">Admin</span>
                <span ng-show="!user.is_superuser && !user.is_staff && user.is_active">Staff</span>
                <span ng-show="!user.is_superuser && !user.is_staff && !user.is_active">Not Active</span>
              </td>
              <td>{{ user.user_profile.department.department_name }}</td>
              <td>{{ user.user_profile.phone }}</td>
              <td>
                <a class="btn btn-success btn-xs" ui-sref="editUser({user_id: user.id})"><i class="fa fa-edit"></i> Edit</a>
                <a class="btn btn-primary btn-xs" ng-show="user.is_active"
                   ng-click="toggleActive(user.id)">
                  <i class="fa fa-times-circle"></i> Deactivate
                </a>
                <a class="btn btn-primary btn-xs" ng-show="!user.is_active"
                   ng-click="toggleActive(user.id)">
                  <i class="fa fa-check-circle"></i> Activate
                </a>

                <a class="btn btn-danger btn-xs" ng-click="deleteAccount(user.id)">
                  <i class="fa fa-minus-circle"></i> Delete
                </a>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div class="widget-foot">
      <!-- Footer goes here -->
    </div>
  </div>
</div>

<div class="widget" ng-cloak>
  <div class="widget-head">
    <div class="pull-left"></div>
    <div class="widget-icons pull-right">
      <a class="btn btn-primary" ui-sref="create-appointment"><i class="fa fa-plus-circle"></i> Create Appointment</a>
    </div>
    <div class="clearfix"></div>
  </div>
  <div class="widget-content">
    <div class="padd">
      <div class="alert alert-info" ng-if="!appointments.length">
        <p>
          No appointment have been created. Click on the create appointment button to create one.
        </p>
      </div>

      <table class="table table-responsive table-condensed table-bordered table-striped">
        <thead>
          <tr>
            <th>S/N</th>
            <th>Visitor Name</th>
            <th>Host Name</th>
            <th>Date</th>
            <th>Start Time</th>
            <th>Ends Time</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="appointment in appointments">
            <td>{{ $index+1 }}</td>
            <td>{{ ((appointment).visitor).first_name + ' ' + ((appointment).visitor).last_name }}</td>
            <td>{{ ((appointment).host).first_name + ' ' + ((appointment).host).last_name }}</td>
            <td>{{ appointment.appointment_date | date:'EEE, MMM d, y' }}</td>
            <td>{{ appointment.visit_start_time }}</td>
            <td>{{ appointment.visit_end_time }}</td>
            <td>
              <a ui-sref="visitor-check-in({ appointment_id: appointment._id })"
                 class="btn btn-xs btn-success" ng-if="!appointment.check_in">Check In</a>
              <a ui-sref="visitor-check-out({ appointment_id: appointment._id })"
                 class="btn btn-xs btn-success" ng-if="appointment.check_in">Check Out</a>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="widget-foot">
      <!-- Footer goes here -->
    </div>
  </div>
</div>